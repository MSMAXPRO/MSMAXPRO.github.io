<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project: Real-time Chat App - CodeWithMSMAXPRO</title>
    
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">

    <style>
        /* --- Page-Specific Highlight Color --- */
        .highlight {
            background: linear-gradient(90deg, #38bdf8, #6d28d9); /* Blue/Purple */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* --- Styles from your project-blog.html template --- */
        .content-container {
            padding-top: 60px;
            padding-bottom: 60px;
        }
        .content-body {
            max-width: 900px;
            margin: 0 auto;
            background: #0f172a; /* Card background */
            padding: 40px;
            border-radius: 12px;
            border: 1px solid #1e293b;
            color: #cbd5e1; /* Default text color */
        }
        .content-header {
            text-align: center;
            border-bottom: 1px solid #334155;
            padding-bottom: 30px;
            margin-bottom: 30px;
        }
        .content-header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        .content-header .content-meta {
            font-size: 1.25rem;
            color: #94a3b8;
        }
        .content-body p, .content-body li {
            line-height: 1.7;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        .content-body h2 {
            color: #fff;
            font-size: 2rem;
            margin-top: 40px;
            margin-bottom: 20px;
            border-bottom: 2px solid #334155;
            padding-bottom: 10px;
        }
        .content-body h3 {
            color: #e2e8f0;
            font-size: 1.8rem;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        .content-body ul, .content-body ol {
            padding-left: 25px;
        }
        .content-body strong {
            color: #e2e8f0;
        }
        .next-step-link {
            text-align: center;
            margin-top: 50px;
        }
        
        /* Tech stack icons style */
        .tech-stack-icons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        .tech-stack-icons .tech-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: #94a3b8;
        }
        .tech-stack-icons img {
            height: 50px;
            width: 50px;
            object-fit: contain;
        }
        /* --- Code Block Styles --- */
        .content-body pre {
            background: #1e293b;
            border: 1px solid #334155;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.95rem;
            margin-bottom: 20px;
        }
        .content-body code {
            font-family: 'Courier New', Courier, monospace;
        }
        .content-body .code-filename {
            display: block;
            margin-top: 20px;
            margin-bottom: -15px;
            padding: 8px 15px;
            background: #334155;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            font-size: 0.9rem;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <header>
        </header>

    <main>
        <section class="content-container">
            <div class="container">
                <article class="content-body">
                    
                    <div class="content-header">
                        <h1>Project Idea: <span class="highlight">Real-time Chat App</span></h1>
                        <p class="content-meta">Build a full-stack chat app with Node.js and React.</p>
                    </div>

                    <p>This project moves beyond simple CRUD apps. You'll build a full-stack chat application, similar to Slack or Discord, where users can join different rooms and send messages that appear instantly for everyone else in the room‚Äîall without reloading the page. It's the perfect project to understand the magic of WebSockets.</p>
                    
                    
                    <h2>‚ú® Key Features</h2>
                    <ul>
                        <li>Users can enter a username and a "Room ID".</li>
                        <li>Multiple users can join the same room.</li>
                        <li>Messages sent by one user are broadcasted instantly to all other users in that room.</li>
                        <li>A "User has joined" or "User has left" notification will be displayed.</li>
                    </ul>

                    <h2>üíª Tech Stack & Skills</h2>
                    <ul>
                        <li><strong>Tech Stack:</strong> React (Frontend), Node.js/Express (Backend), `socket.io` (for WebSockets), `socket.io-client` (React client).</li>
                        <li><strong>Skills Practiced:</strong> Real-time Communication, WebSocket Event Handling (joining rooms, broadcasting messages), Backend API setup, Frontend State Management (handling live data).</li>
                    </ul>
                    
                    <div class="tech-stack-icons">
                        <div class="tech-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg" alt="React">
                            <span>React</span>
                        </div>
                        <div class="tech-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/d/d9/Node.js_logo.svg" alt="Node.js">
                            <span>Node.js</span>
                        </div>
                        <div class="tech-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/6/64/Expressjs.png" alt="Express">
                            <span>Express</span>
                        </div>
                        <div class="tech-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/9/96/Socket-io.svg" alt="Socket.io">
                            <span>Socket.io</span>
                        </div>
                    </div>

                    <h2>üõ†Ô∏è Full Step-by-Step Tutorial</h2>

                    <h3>Part 1: The Backend (Node.js & Socket.io Server)</h3>

                    <p><strong>Step 1.1: Setup Project</strong></p>
                    <ol>
                        <li>Create a <code>backend</code> folder, run <code>npm init -y</code>.</li>
                        <li>Install dependencies: <br>
                            <code>npm install express socket.io cors nodemon</code>
                        </li>
                    </ol>
                    
                    <p><strong>Step 1.2: Create the Server (`index.js`)</strong></p>
                    <p>This is the only file we need for this simple backend. It creates an Express server, attaches Socket.io to it, and defines all the chat logic.</p>
                    [attachment_0](attachment)

                    <span class="code-filename">backend/index.js</span>
                    <pre><code>const express = require('express');
const http = require('http');
const { Server } = require("socket.io");
const cors = require('cors');

const app = express();
app.use(cors());

const server = http.createServer(app);

// Initialize Socket.io server
const io = new Server(server, {
    cors: {
        origin: "http://localhost:3000", // Your React app's URL
        methods: ["GET", "POST"],
    },
});

// --- Socket.io Logic ---
io.on('connection', (socket) => {
    console.log(`User Connected: ${socket.id}`);

    // 1. Logic to join a room
    socket.on('join_room', (data) => {
        socket.join(data.room);
        console.log(`User ${socket.id} joined room ${data.room}`);
        // Notify others in the room
        socket.to(data.room).emit('user_joined', { username: data.username });
    });

    // 2. Logic to handle sending a message
    socket.on('send_message', (data) => {
        // Broadcast the received message to everyone in that room
        io.to(data.room).emit('receive_message', data);
    });

    // 3. Logic for disconnection
    socket.on('disconnect', () => {
        console.log(`User Disconnected: ${socket.id}`);
        // (We can add logic here to notify rooms if we store which user is in which room)
    });
});
// --- End Socket.io Logic ---


server.listen(5000, () => {
    console.log('Server is running on port 5000');
});
</code></pre>
                    <p>Your backend is now complete! Run it with <code>nodemon index.js</code>.</p>


                    <h3>Part 2: The Frontend (React App)</h3>

                    <p><strong>Step 2.1: Setup Project</strong></p>
                    <ol>
                        <li>Create a <code>frontend</code> app: <code>npx create-react-app frontend</code>.</li>
                        <li>Install libraries: <br>
                            <code>npm install socket.io-client react-router-dom</code>
                        </li>
                    </ol>

                    <p><strong>Step 2.2: Create Socket.io Helper (`socket.js`)</strong></p>
                    <p>It's good practice to create one single socket connection. Create <code>frontend/src/socket.js</code>.</p>
                    
                    <span class="code-filename">frontend/src/socket.js</span>
                    <pre><code>import { io } from 'socket.io-client';

// Connect to your backend server
const socket = io('http://localhost:5000');

export default socket;
</code></pre>

                    <p><strong>Step 2.3: Setup Routing (`App.js`)</strong></p>
                    <p>We need two pages: a "Join" page and the "Chat" page.</p>
                    
                    <span class="code-filename">frontend/src/App.js</span>
                    <pre><code>import React, { useState } from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import JoinPage from './components/JoinPage';
import ChatRoom from './components/ChatRoom';
import './App.css'; // We'll create this

function App() {
    const [username, setUsername] = useState('');
    const [room, setRoom] = useState('');

    return (
        <Router>
            <div className="App">
                <Routes>
                    <Route 
                        path="/" 
                        element={<JoinPage 
                                    setUsername={setUsername} 
                                    setRoom={setRoom} 
                                />} 
                    />
                    <Route 
                        path="/chat" 
                        element={<ChatRoom 
                                    username={username} 
                                    room={room} 
                                />} 
                    />
                </Routes>
            </div>
        </Router>
    );
}

export default App;
</code></pre>

                    <p><strong>Step 2.4: Create `JoinPage.js` Component</strong></p>
                    <p>Create <code>frontend/src/components/JoinPage.js</code>.</p>
                    
                    <span class="code-filename">frontend/src/components/JoinPage.js</span>
                    <pre><code>import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import socket from '../socket'; // Import our socket connection

function JoinPage({ setUsername, setRoom }) {
    const [nameInput, setNameInput] = useState('');
    const [roomInput, setRoomInput] = useState('');
    const navigate = useNavigate();

    const joinChat = () => {
        if (nameInput.trim() && roomInput.trim()) {
            // Set username and room in App.js state
            setUsername(nameInput);
            setRoom(roomInput);
            
            // Emit "join_room" event to server
            socket.emit('join_room', { username: nameInput, room: roomInput });
            
            // Navigate to the chat room
            navigate('/chat');
        }
    };

    return (
        <div className="join-container content-body">
            <div className="content-header" style={{border: 'none', padding: 0}}>
                <h1>Join a <span className="highlight">Chat Room</span></h1>
            </div>
            <input
                type="text"
                placeholder="Enter your name..."
                onChange={(e) => setNameInput(e.target.value)}
            />
            <input
                type="text"
                placeholder="Enter room ID..."
                onChange={(e) => setRoomInput(e.target.value)}
            />
            <button onClick={joinChat} className="cta-button">Join</button>
        </div>
    );
}

export default JoinPage;
</code></pre>

                    <p><strong>Step 2.5: Create `ChatRoom.js` Component</strong></p>
                    <p>Create <code>frontend/src/components/ChatRoom.js</code>. This is where the main chat logic lives.</p>
                    
                    <span class="code-filename">frontend/src/components/ChatRoom.js</span>
                    <pre><code>import React, { useState, useEffect, useRef } from 'react';
import socket from '../socket'; // Import our socket connection

function ChatRoom({ username, room }) {
    const [currentMessage, setCurrentMessage] = useState('');
    const [messageList, setMessageList] = useState([]);
    const messagesEndRef = useRef(null); // To auto-scroll

    const sendMessage = async () => {
        if (currentMessage.trim()) {
            const messageData = {
                room: room,
                author: username,
                message: currentMessage,
                time: new Date().toLocaleTimeString(),
            };

            await socket.emit('send_message', messageData);
            // We'll receive this message back via 'receive_message'
            setCurrentMessage('');
        }
    };

    // This useEffect listens for incoming messages
    useEffect(() => {
        const messageListener = (data) => {
            setMessageList((list) => [...list, data]);
        };
        const joinListener = (data) => {
            const joinMessage = {
                author: 'System',
                message: `${data.username} has joined the room.`,
                time: new Date().toLocaleTimeString(),
            };
            setMessageList((list) => [...list, joinMessage]);
        };

        socket.on('receive_message', messageListener);
        socket.on('user_joined', joinListener);

        // Cleanup function to remove listener
        return () => {
            socket.off('receive_message', messageListener);
            socket.off('user_joined', joinListener);
        };
    }, []);

    // This useEffect handles auto-scrolling
    useEffect(() => {
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
    }, [messageList]);


    return (
        <div className="chat-window">
            <div className="chat-header">
                <h3>Live Chat: Room '{room}'</h3>
            </div>
            <div className="chat-body">
                {messageList.map((msg, index) => (
                    <div 
                        key={index} 
                        className="message"
                        id={username === msg.author ? 'you' : 'other'}
                    >
                        <div className="message-content">
                            <p>{msg.message}</p>
                        </div>
                        <div className="message-meta">
                            <span>{msg.author}</span>
                            <span>{msg.time}</span>
                        </div>
                    </div>
                ))}
                <div ref={messagesEndRef} />
            </div>
            <div className="chat-footer">
                <input 
                    type="text" 
                    value={currentMessage}
                    placeholder="Type a message..."
                    onChange={(e) => setCurrentMessage(e.target.value)}
                    onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                />
                <button onClick={sendMessage}>&#9658;</button>
            </div>
        </div>
    );
}

export default ChatRoom;
</code></pre>

                    <p><strong>Step 2.6: Basic Styling (`App.css`)</strong></p>
                    <p>Create <code>frontend/src/App.css</code> to make it look like a chat app.</p>
                    
                    <span class="code-filename">frontend/src/App.css</span>
                    <pre><code>.App {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #020617;
    font-family: 'Inter', sans-serif;
}

/* --- Join Page --- */
.join-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 350px;
}
.join-container input {
    padding: 12px 15px;
    font-size: 1rem;
    border-radius: 8px;
    border: 1px solid #334155;
    background-color: #1e293b;
    color: #fff;
}
.join-container .cta-button {
    text-align: center;
    text-decoration: none;
    line-height: 1.5;
}

/* --- Chat Window --- */
.chat-window {
    width: 500px;
    height: 600px;
    background-color: #0f172a;
    border: 1px solid #1e293b;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
}
.chat-header {
    background-color: #1e293b;
    padding: 15px;
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
}
.chat-header h3 {
    margin: 0;
    color: #fff;
}
.chat-body {
    flex-grow: 1;
    padding: 15px;
    overflow-y: auto;
    color: #cbd5e1;
}
.message {
    margin-bottom: 15px;
    display: flex;
}
.message-content {
    max-width: 70%;
    padding: 10px 15px;
    border-radius: 10px;
}
.message-meta {
    font-size: 0.8rem;
    color: #94a3b8;
    margin-top: 3px;
}

/* Message alignment */
#you {
    justify-content: flex-end;
}
#you .message-content {
    background-color: #a78bfa;
    color: #fff;
}
#you .message-meta {
    text-align: right;
}

#other {
    justify-content: flex-start;
}
#other .message-content {
    background-color: #334155;
    color: #e2e8f0;
}

/* System Message */
#other .message-content p:first-child:contains("System") {
    font-style: italic;
    color: #94a3b8;
}


.chat-footer {
    display: flex;
    padding: 10px;
    border-top: 1px solid #1e293b;
}
.chat-footer input {
    flex-grow: 1;
    padding: 12px 15px;
    font-size: 1rem;
    border-radius: 8px;
    border: 1px solid #334155;
    background-color: #1e293b;
    color: #fff;
    margin-right: 10px;
}
.chat-footer button {
    padding: 10px 15px;
    font-size: 1.2rem;
    border: none;
    border-radius: 8px;
    background: #a78bfa;
    color: #fff;
    cursor: pointer;
}
</code></pre>

                    <p>Done! Ab aapke dono backend aur frontend servers ko chalaayein. Aap `localhost:3000` par jaakar ek room join kar sakte hain (aur kisi doosre browser tab mein bhi same room join karke) real-time chat kar sakte hain!</p>

                    <h2>üî• Next Steps & Challenges</h2>
                    <p>After completing this tutorial, try these ideas:</p>
                    <ul>
                        <li>**Typing Indicators:** Emit a "typing" event to the server to show when another user is typing.</li>
                        <li>**User List:** Show a list of all active users currently in the room.</li>
                        <li>**Disconnect Notification:** Logic to inform the room when a user (e.g., "MSMAXPRO") has disconnected.</li>
                        <li>**Database Integration:** Save all messages to a MongoDB database so the chat history is persistent.</li>
                    </ul>
                    
                    <div class="next-step-link">
                        <a href="projects.html" class="cta-button">&larr; Back to All Project Ideas</a>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <footer style="background-color: #1e293b; padding: 50px 0 20px 0; border-top: 1px solid rgba(255, 255, 255, 0.1);">
        </footer>
    
    <script src="app.js"></script> 

</body>
</html>
